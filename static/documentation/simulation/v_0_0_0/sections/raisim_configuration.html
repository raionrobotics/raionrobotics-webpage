

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Raisim Configuration &mdash; Raisin Simulation Documentation 0.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7026087e"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Parameter settings" href="parameter_setting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Raisin Simulation Documentation
              <img src="../_static/logo_f2-02.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameter_setting.html">Parameter settings</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Raisim Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#urdf">URDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="#raisim-urdf-extension">Raisim URDF extension</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sensor-configuration">Sensor Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#raisim-configuration-file">Raisim configuration file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-structure-overview">File Structure Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#path-substitution-with-this-dir">Path Substitution with <code class="docutils literal notranslate"><span class="pre">[THIS_DIR]</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameter-substitution-with-name">Parameter Substitution with <code class="docutils literal notranslate"><span class="pre">&#64;&#64;name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#array-expansion-with-array">Array Expansion with <code class="docutils literal notranslate"><span class="pre">&lt;array&gt;</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#math-expressions-with">Math Expressions with <code class="docutils literal notranslate"><span class="pre">{...}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#include-files">Include Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#world-parameters">World Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#object-classes">Object Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#object-instances">Object Instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collision-groups-and-masks">Collision Groups and Masks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constraints-wires">Constraints (Wires)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#best-practices">Best Practices</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Raisin Simulation Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Raisim Configuration</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/sections/raisim_configuration.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="raisim-configuration">
<h1>Raisim Configuration<a class="headerlink" href="#raisim-configuration" title="Link to this heading"></a></h1>
<p>Raisim is a physics engine developed by Raion Robotics.
It also ships two TCP/IP-based visualizers: raisimUnity and raisimUnreal.
In this tutorial, we assume that you have downloaded raisimUnreal following the steps in the previous sections.
Here is some background information to understand how Raion Robotics simulation works.</p>
<section id="urdf">
<h2>URDF<a class="headerlink" href="#urdf" title="Link to this heading"></a></h2>
<p>In Raisim, a robot is defined using a URDF (Unified Robot Description Format).
For a detailed specification and examples, see the
<a class="reference external" href="https://wiki.ros.org/urdf">official ROS URDF documentation</a>.</p>
<p>URDF is an XML-based format that describes a robot as a tree of rigid links
connected by joints. It captures the kinematic structure, physical properties,
and the geometry required for simulation and visualization.</p>
<p>At a minimum, a URDF should include:</p>
<ul class="simple">
<li><p>Links with inertial, visual, and collision elements.</p></li>
<li><p>Joints that connect links and define their axes and limits.</p></li>
<li><p>Consistent units (meters, kilograms, radians) and coordinate frames.</p></li>
</ul>
<p>Key points for Raisim and similar physics engines:</p>
<ul class="simple">
<li><p>Inertial properties matter. Unrealistic masses or inertia tensors can cause
unstable simulation.</p></li>
<li><p>Collision geometry should be simple and watertight for stable contacts and
good performance.</p></li>
<li><p>Mesh paths must be valid and accessible on your machine.</p></li>
</ul>
<p>URDF models are hierarchical. Each joint defines a transform from its parent
link to its child link, along with the joint type (e.g., fixed, revolute,
continuous, or prismatic), axis of motion, and limits. This hierarchy determines
the robot’s kinematic tree and the degrees of freedom available in simulation.</p>
<p>The inertial section of a link includes mass and the inertia tensor expressed
in the link frame. These values must be physically consistent. For example,
extremely small masses, negative inertia components, or inertia tensors that do
not match the geometry often lead to unstable contact behavior.</p>
<p>Visual geometry is used for rendering, while collision geometry is used for
physics. Keeping collision meshes simpler than visuals improves stability and
performance, especially for legged robots or tasks with many contacts. If you
use meshes, ensure they are closed and correctly scaled. Primitive shapes
(boxes, cylinders, spheres) are often more robust for contacts.</p>
<p>Common pitfalls include missing inertial tags, incorrect joint axes, and
collision meshes that do not match the visual model. If you have ROS tools
available, validate the URDF with standard checkers before launching Raisim to
catch errors early.</p>
<p>Raisim visualizers use the same URDF to render the robot, so keeping visual and
collision geometry aligned improves both realism and debugging.</p>
</section>
<section id="raisim-urdf-extension">
<h2>Raisim URDF extension<a class="headerlink" href="#raisim-urdf-extension" title="Link to this heading"></a></h2>
<p>There are two important features in Raisim URDF extension for this tutorial: modules and sensors.</p>
<p>Open install/config/raisin_raibo2/config/params.yaml.
You can see these two raisim related parameters:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">raisim_config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/raisim_config/flat_terrain.xml</span>
<span class="nt">modules</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">livox_lidar</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">sensor_head_set_1</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>The modules here is simply a text file that you can find in install/resource/raisin_raibo2/resource/modules.
Contents of the text file is simply <strong>copy-pasted to the bottom of the main URDF</strong>, which can be found in install/resource/raisin_raibo2/resource/urdf/raibo2.urdf.</p>
<p>So in simulation, the robot will have two modules (livox_lidar and sensor_head_set_1) attached.</p>
<p>The environment is defined by the <code class="docutils literal notranslate"><span class="pre">raisim_config`</span></code> file.
You can find the config file in install/resource/raisin_raibo2/resource/raisim_config/flat_terrain.xml, which will create a simple flat terrain world.</p>
<p>Currently, depth camera, RGB camera and lidar are supported.</p>
<section id="sensor-configuration">
<h3>Sensor Configuration<a class="headerlink" href="#sensor-configuration" title="Link to this heading"></a></h3>
<p>Sensor definitions live under <code class="docutils literal notranslate"><span class="pre">install/resource/raisin_raibo2/resource/sensors</span></code>
(source files in <code class="docutils literal notranslate"><span class="pre">src/raisin_raibo2/resource/sensors</span></code>). Each file defines a
<code class="docutils literal notranslate"><span class="pre">&lt;sensor_set&gt;</span></code> with a single link and one or more sensors. Modules reference
these files using the <code class="docutils literal notranslate"><span class="pre">sensor=&quot;...&quot;</span></code> attribute in the module link definition
(see <code class="docutils literal notranslate"><span class="pre">install/resource/raisin_raibo2/resource/modules</span></code>).</p>
<p>The common structure looks like this:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;sensor_set</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;realsense_d435&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;link&gt;</span>
<span class="w">    </span><span class="nt">&lt;inertial&gt;</span>...<span class="nt">&lt;/inertial&gt;</span>
<span class="w">    </span><span class="nt">&lt;visual&gt;</span>...<span class="nt">&lt;/visual&gt;</span>
<span class="w">    </span><span class="nt">&lt;sensor</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;color&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;rgb&quot;</span><span class="w"> </span><span class="na">update_rate=</span><span class="s">&quot;30&quot;</span><span class="nt">&gt;</span>...<span class="nt">&lt;/sensor&gt;</span>
<span class="w">    </span><span class="nt">&lt;sensor</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;depth&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;depth&quot;</span><span class="w"> </span><span class="na">update_rate=</span><span class="s">&quot;30&quot;</span><span class="nt">&gt;</span>...<span class="nt">&lt;/sensor&gt;</span>
<span class="w">  </span><span class="nt">&lt;/link&gt;</span>
<span class="nt">&lt;/sensor_set&gt;</span>
</pre></div>
</div>
<p>Key elements:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;sensor_set</span> <span class="pre">name=&quot;...&quot;&gt;</span></code> groups the sensors for a device.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;link&gt;</span></code> contains the inertial properties and optional visual geometry for
the sensor housing.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;sensor&gt;</span></code> nodes define the individual streams. Each has a <code class="docutils literal notranslate"><span class="pre">name</span></code>,
<code class="docutils literal notranslate"><span class="pre">type</span></code>, and <code class="docutils literal notranslate"><span class="pre">update_rate</span></code> (Hz), plus an <code class="docutils literal notranslate"><span class="pre">&lt;origin&gt;</span></code> for mounting offset.</p></li>
</ul>
<p>Camera sensors (<code class="docutils literal notranslate"><span class="pre">type=&quot;rgb&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">type=&quot;depth&quot;</span></code>) use a <code class="docutils literal notranslate"><span class="pre">&lt;camera&gt;</span></code> block:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">horizontal_fov</span></code> controls the horizontal field of view in radians.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;image</span> <span class="pre">width=&quot;...&quot;</span> <span class="pre">height=&quot;...&quot;/&gt;</span></code> sets the resolution.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;clip</span> <span class="pre">near=&quot;...&quot;</span> <span class="pre">far=&quot;...&quot;/&gt;</span></code> defines near/far planes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;noise&gt;</span></code> adds Gaussian noise (<code class="docutils literal notranslate"><span class="pre">mean</span></code> and <code class="docutils literal notranslate"><span class="pre">stddev</span></code>).</p></li>
<li><p>Depth cameras often include <code class="docutils literal notranslate"><span class="pre">&lt;data</span> <span class="pre">type=&quot;coordinates&quot;/&gt;</span></code> to emit point
coordinates instead of raw depth values.</p></li>
</ul>
<p>Lidar sensors use <code class="docutils literal notranslate"><span class="pre">type=&quot;spinning_lidar&quot;</span></code> and define scan geometry:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yaw</span> <span class="pre">samples=&quot;...&quot;/&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;pitch</span> <span class="pre">samples=&quot;...&quot;</span> <span class="pre">min_angle=&quot;...&quot;</span>
<span class="pre">max_angle=&quot;...&quot;/&gt;</span></code> set the angular sampling.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;spin</span> <span class="pre">direction=&quot;clockwise|counter-clockwise&quot;</span> <span class="pre">rate=&quot;...&quot;/&gt;</span></code> controls the
rotation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;range</span> <span class="pre">min=&quot;...&quot;</span> <span class="pre">max=&quot;...&quot;/&gt;</span></code> sets the valid measurement range.</p></li>
</ul>
<p>IMU sensors use <code class="docutils literal notranslate"><span class="pre">type=&quot;imu&quot;</span></code> and include <code class="docutils literal notranslate"><span class="pre">&lt;limit&gt;</span></code> for saturation bounds:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">acc_limit</span></code> (linear acceleration) and <code class="docutils literal notranslate"><span class="pre">ang_vel_limit</span></code> (angular velocity).</p></li>
</ul>
<p>Several sensor sets bundle multiple streams. For example, the Oak-D Pro file
defines two monochrome RGB streams, a depth stream, and an IMU, while the
Realsense files include both aligned and unaligned depth streams. Lidar sets
such as <code class="docutils literal notranslate"><span class="pre">mid360.xml</span></code> and <code class="docutils literal notranslate"><span class="pre">ouster1-32.xml</span></code> pair a spinning lidar with an IMU.</p>
</section>
</section>
<section id="raisim-configuration-file">
<h2>Raisim configuration file<a class="headerlink" href="#raisim-configuration-file" title="Link to this heading"></a></h2>
<p>You can find more examples of Raisim configuration files in the
<a class="reference external" href="https://github.com/raisimTech/raisimLib">Raisim repository</a>.</p>
<p>Raisim worlds are described using an XML configuration file (often called a
“Raisim config”). This file defines global world settings, reusable object
classes, and concrete objects instantiated in the scene. The loader supports
parameter substitution, includes, array expansion, and simple math expressions,
which make large environments easier to define and maintain.</p>
<p>At a high level, the loader performs these steps:</p>
<ul class="simple">
<li><p>Read the XML file into a single string.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">[THIS_DIR]</span></code> with the directory of the config file.</p></li>
<li><p>Substitute parameters from <code class="docutils literal notranslate"><span class="pre">&lt;params&gt;</span></code> blocks and command-line arguments.</p></li>
<li><p>Expand <code class="docutils literal notranslate"><span class="pre">&lt;array</span> <span class="pre">...&gt;...&lt;/array&gt;</span></code> blocks to generate repeated elements.</p></li>
<li><p>Evaluate math expressions inside <code class="docutils literal notranslate"><span class="pre">{...}</span></code>.</p></li>
<li><p>Recursively load files referenced by <code class="docutils literal notranslate"><span class="pre">&lt;include&gt;</span></code> entries.</p></li>
<li><p>Parse world settings, materials, object classes, objects, and constraints.</p></li>
</ul>
<p>The sections below describe the structure and the supported features in detail.</p>
<section id="file-structure-overview">
<h3>File Structure Overview<a class="headerlink" href="#file-structure-overview" title="Link to this heading"></a></h3>
<p>A typical config file uses a top-level <code class="docutils literal notranslate"><span class="pre">&lt;raisim&gt;</span></code> node and includes the
following sections:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;raisim&gt;</span>
<span class="w">  </span><span class="nt">&lt;params&gt;</span>
<span class="w">    </span><span class="nt">&lt;param_name</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;...&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/params&gt;</span>

<span class="w">  </span><span class="nt">&lt;include</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;[THIS_DIR]/other_world.xml&quot;</span><span class="nt">/&gt;</span>

<span class="w">  </span><span class="nt">&lt;material&gt;</span>...<span class="nt">&lt;/material&gt;</span>
<span class="w">  </span><span class="nt">&lt;gravity</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0 0 -9.81&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;timeStep</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.001&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;erp</span><span class="w"> </span><span class="na">erp=</span><span class="s">&quot;0.2&quot;</span><span class="w"> </span><span class="na">erp2=</span><span class="s">&quot;0.1&quot;</span><span class="nt">/&gt;</span>

<span class="w">  </span><span class="nt">&lt;object_class&gt;</span>
<span class="w">    </span><span class="nt">&lt;my_box</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;box&quot;</span><span class="w"> </span><span class="na">mass=</span><span class="s">&quot;1.0&quot;</span><span class="w"> </span><span class="na">material=</span><span class="s">&quot;steel&quot;</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0.5&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0.3&quot;</span><span class="w"> </span><span class="na">z=</span><span class="s">&quot;0.2&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/my_box&gt;</span>
<span class="w">  </span><span class="nt">&lt;/object_class&gt;</span>

<span class="w">  </span><span class="nt">&lt;objects&gt;</span>
<span class="w">    </span><span class="nt">&lt;my_box</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;crate_0&quot;</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;state</span><span class="w"> </span><span class="na">pos=</span><span class="s">&quot;0 0 0.3&quot;</span><span class="w"> </span><span class="na">quat=</span><span class="s">&quot;1 0 0 0&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/my_box&gt;</span>
<span class="w">    </span><span class="nt">&lt;articulated_system</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;raibo2&quot;</span>
<span class="w">                        </span><span class="na">urdf_path=</span><span class="s">&quot;[THIS_DIR]/raibo2.urdf&quot;</span>
<span class="w">                        </span><span class="na">res_dir=</span><span class="s">&quot;[THIS_DIR]/resources&quot;</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;state</span><span class="w"> </span><span class="na">qpos=</span><span class="s">&quot;...&quot;</span><span class="w"> </span><span class="na">qvel=</span><span class="s">&quot;...&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/articulated_system&gt;</span>
<span class="w">  </span><span class="nt">&lt;/objects&gt;</span>

<span class="w">  </span><span class="nt">&lt;wire</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;stiff&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;tether&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;object1</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;crate_0&quot;</span><span class="w"> </span><span class="na">local_index=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">pos=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;object2</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;raibo2&quot;</span><span class="w"> </span><span class="na">frame=</span><span class="s">&quot;base&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/wire&gt;</span>
<span class="nt">&lt;/raisim&gt;</span>
</pre></div>
</div>
<p>This is illustrative; only the sections you use need to be present.</p>
</section>
<section id="path-substitution-with-this-dir">
<h3>Path Substitution with <code class="docutils literal notranslate"><span class="pre">[THIS_DIR]</span></code><a class="headerlink" href="#path-substitution-with-this-dir" title="Link to this heading"></a></h3>
<p>The loader replaces all instances of <code class="docutils literal notranslate"><span class="pre">[THIS_DIR]</span></code> with the directory of the
current configuration file. This makes files portable and avoids hard-coded
absolute paths. It is commonly used for URDF files, resource directories, mesh
paths, and included XML files.</p>
</section>
<section id="parameter-substitution-with-name">
<h3>Parameter Substitution with <code class="docutils literal notranslate"><span class="pre">&#64;&#64;name</span></code><a class="headerlink" href="#parameter-substitution-with-name" title="Link to this heading"></a></h3>
<p>Parameters can be declared in one or more <code class="docutils literal notranslate"><span class="pre">&lt;params&gt;</span></code> blocks:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;params&gt;</span>
<span class="w">  </span><span class="nt">&lt;robot_name</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;raibo2&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;root_height</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.45&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/params&gt;</span>
</pre></div>
</div>
<p>Any occurrence of <code class="docutils literal notranslate"><span class="pre">&#64;&#64;robot_name</span></code> or <code class="docutils literal notranslate"><span class="pre">&#64;&#64;root_height</span></code> in the file is replaced
with the corresponding <code class="docutils literal notranslate"><span class="pre">value</span></code> attribute. Parameters are substituted in two
phases:</p>
<ol class="arabic simple">
<li><p>Values from <code class="docutils literal notranslate"><span class="pre">&lt;params&gt;</span></code> blocks in the config file.</p></li>
<li><p>Values passed as loader arguments (these override the file values).</p></li>
</ol>
<p>If any unresolved <code class="docutils literal notranslate"><span class="pre">&#64;&#64;param</span></code> remains after substitution, loading fails with an
error. This ensures that all required values are explicitly provided.</p>
</section>
<section id="array-expansion-with-array">
<h3>Array Expansion with <code class="docutils literal notranslate"><span class="pre">&lt;array&gt;</span></code><a class="headerlink" href="#array-expansion-with-array" title="Link to this heading"></a></h3>
<p>Array blocks allow repeated elements with a changing index. The loader expands
the block by duplicating its content and replacing the specified index symbol
with successive values.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;array</span><span class="w"> </span><span class="na">start=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">end=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">increment=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">idx=</span><span class="s">&quot;$i&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;box_$i&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;dim</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0.2&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0.2&quot;</span><span class="w"> </span><span class="na">z=</span><span class="s">&quot;0.2&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;state</span><span class="w"> </span><span class="na">pos=</span><span class="s">&quot;{0.5*$i} 0 0.1&quot;</span><span class="w"> </span><span class="na">quat=</span><span class="s">&quot;1 0 0 0&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/box&gt;</span>
<span class="nt">&lt;/array&gt;</span>
</pre></div>
</div>
<p>In this example, the loader produces four boxes: <code class="docutils literal notranslate"><span class="pre">box_0</span></code> through <code class="docutils literal notranslate"><span class="pre">box_3</span></code>.</p>
</section>
<section id="math-expressions-with">
<h3>Math Expressions with <code class="docutils literal notranslate"><span class="pre">{...}</span></code><a class="headerlink" href="#math-expressions-with" title="Link to this heading"></a></h3>
<p>Simple arithmetic expressions inside braces are evaluated and replaced with
their numeric results. Expressions are case-insensitive and may include spaces,
which are removed before evaluation.</p>
<p>Example:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;state</span><span class="w"> </span><span class="na">pos=</span><span class="s">&quot;{0.1*2} {0.25+0.05} 0.3&quot;</span><span class="w"> </span><span class="na">quat=</span><span class="s">&quot;1 0 0 0&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</section>
<section id="include-files">
<h3>Include Files<a class="headerlink" href="#include-files" title="Link to this heading"></a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">&lt;include&gt;</span></code> to load and merge additional XML files:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;include</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;[THIS_DIR]/terrain.xml&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Includes are processed recursively before the main world is instantiated. This
is useful for sharing materials, object classes, or common scenes across
projects.</p>
</section>
<section id="world-parameters">
<h3>World Parameters<a class="headerlink" href="#world-parameters" title="Link to this heading"></a></h3>
<p>The following nodes configure the global simulation:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;material&gt;</span></code>: Defines contact materials. The first material node is used to
initialize the material manager.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;gravity</span> <span class="pre">value=&quot;x</span> <span class="pre">y</span> <span class="pre">z&quot;&gt;</span></code>: Sets gravity in m/s^2.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;timeStep</span> <span class="pre">value=&quot;...&quot;&gt;</span></code>: Sets the physics time step.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;erp</span> <span class="pre">erp=&quot;...&quot;</span> <span class="pre">erp2=&quot;...&quot;&gt;</span></code>: Sets error reduction parameters.</p></li>
</ul>
</section>
<section id="object-classes">
<h3>Object Classes<a class="headerlink" href="#object-classes" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">&lt;object_class&gt;</span></code> provides reusable templates. Each child node defines a class
by name and type. Example:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;object_class&gt;</span>
<span class="w">  </span><span class="nt">&lt;crate</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;box&quot;</span><span class="w"> </span><span class="na">mass=</span><span class="s">&quot;5.0&quot;</span><span class="w"> </span><span class="na">material=</span><span class="s">&quot;wood&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0.5&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0.4&quot;</span><span class="w"> </span><span class="na">z=</span><span class="s">&quot;0.3&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/crate&gt;</span>
<span class="nt">&lt;/object_class&gt;</span>
</pre></div>
</div>
<p>Later, instantiate the class under <code class="docutils literal notranslate"><span class="pre">&lt;objects&gt;</span></code> with a unique name:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;objects&gt;</span>
<span class="w">  </span><span class="nt">&lt;crate</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;crate_1&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;state</span><span class="w"> </span><span class="na">pos=</span><span class="s">&quot;0 0 0.2&quot;</span><span class="w"> </span><span class="na">quat=</span><span class="s">&quot;1 0 0 0&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/crate&gt;</span>
<span class="nt">&lt;/objects&gt;</span>
</pre></div>
</div>
</section>
<section id="object-instances">
<h3>Object Instances<a class="headerlink" href="#object-instances" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;objects&gt;</span></code> section creates concrete instances. Each object must have a
<code class="docutils literal notranslate"><span class="pre">name</span></code> attribute and, for movable bodies, a <code class="docutils literal notranslate"><span class="pre">&lt;state&gt;</span></code> node describing the
initial pose and velocities.</p>
<p>Supported object types include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sphere</span></code>, <code class="docutils literal notranslate"><span class="pre">box</span></code>, <code class="docutils literal notranslate"><span class="pre">cylinder</span></code>, <code class="docutils literal notranslate"><span class="pre">capsule</span></code>: Primitive shapes defined by a
<code class="docutils literal notranslate"><span class="pre">&lt;dim&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;dimension&gt;</span></code> node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mesh</span></code>: A mesh file plus scale, mass, inertia, and center of mass.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compound</span></code>: A composite of child shapes with per-child poses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">articulated_system</span></code>: A URDF-defined robot with optional resource and
module settings.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">heightmap</span></code> and <code class="docutils literal notranslate"><span class="pre">halfspace</span></code>: Terrain and ground definitions.</p></li>
</ul>
<p>For articulated systems, specify a URDF path:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;articulated_system</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;raibo2&quot;</span>
<span class="w">                    </span><span class="na">urdf_path=</span><span class="s">&quot;[THIS_DIR]/raibo2.urdf&quot;</span>
<span class="w">                    </span><span class="na">res_dir=</span><span class="s">&quot;[THIS_DIR]/resources&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;state</span><span class="w"> </span><span class="na">qpos=</span><span class="s">&quot;...&quot;</span><span class="w"> </span><span class="na">qvel=</span><span class="s">&quot;...&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/articulated_system&gt;</span>
</pre></div>
</div>
<p>The loader resolves <code class="docutils literal notranslate"><span class="pre">urdf_path</span></code> in this order:</p>
<ol class="arabic simple">
<li><p>The path as specified (absolute or relative).</p></li>
<li><p>The path relative to the top directory of the config file.</p></li>
</ol>
</section>
<section id="collision-groups-and-masks">
<h3>Collision Groups and Masks<a class="headerlink" href="#collision-groups-and-masks" title="Link to this heading"></a></h3>
<p>Objects can specify <code class="docutils literal notranslate"><span class="pre">collisionGroup</span></code> and <code class="docutils literal notranslate"><span class="pre">collisionMask</span></code> attributes. The
loader supports a compact syntax such as <code class="docutils literal notranslate"><span class="pre">collision[1|2|3]</span></code> to build bitmasks.
If not provided, default collision settings are used.</p>
</section>
<section id="constraints-wires">
<h3>Constraints (Wires)<a class="headerlink" href="#constraints-wires" title="Link to this heading"></a></h3>
<p>Wire constraints are defined with <code class="docutils literal notranslate"><span class="pre">&lt;wire&gt;</span></code> nodes. Supported types include
<code class="docutils literal notranslate"><span class="pre">compliant</span></code>, <code class="docutils literal notranslate"><span class="pre">stiff</span></code>, and <code class="docutils literal notranslate"><span class="pre">custom</span></code>. Each wire references two objects and
either a local index and position or a named frame for articulated systems.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;wire</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;compliant&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;tether&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;1.0&quot;</span><span class="w"> </span><span class="na">stiffness=</span><span class="s">&quot;200.0&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;object1</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;crate_0&quot;</span><span class="w"> </span><span class="na">local_index=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">pos=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;object2</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;raibo2&quot;</span><span class="w"> </span><span class="na">frame=</span><span class="s">&quot;base&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/wire&gt;</span>
</pre></div>
</div>
</section>
<section id="best-practices">
<h3>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Keep all paths relative and use <code class="docutils literal notranslate"><span class="pre">[THIS_DIR]</span></code> for portability.</p></li>
<li><p>Prefer object classes for reusable shapes and properties.</p></li>
<li><p>Validate URDFs and ensure mesh files are accessible before launching.</p></li>
<li><p>Use simple collision geometry when possible to improve stability.</p></li>
<li><p>Avoid leaving unresolved <code class="docutils literal notranslate"><span class="pre">&#64;&#64;params</span></code>; the loader will fail fast.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="parameter_setting.html" class="btn btn-neutral float-left" title="Parameter settings" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Jemin Hwangbo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>